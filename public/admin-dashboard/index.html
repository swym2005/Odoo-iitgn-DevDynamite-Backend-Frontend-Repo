<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>OrbitOne — Admin Dashboard</title>
	<link href="/assets/css/dashboard.css" rel="stylesheet" />
	<link href="/styles.css" rel="stylesheet" />
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
	<meta http-equiv="Pragma" content="no-cache" />
	<meta http-equiv="Expires" content="0" />
</head>
<body>
	<div class="layout">
		<aside class="sidebar">
			<div class="brand">OrbitOne</div>
			<nav class="nav">
				<a class="nav-item active" href="#"><span>Users</span></a>
				<a class="nav-item" href="/pm-dashboard/"><span>Projects</span></a>
				<a class="nav-item" href="/billing-dashboard/"><span>Billing</span></a>
				<a class="nav-item" href="/settings-dashboard/"><span>Settings</span></a>
				<a class="nav-item" href="/analytics-dashboard/"><span>Analytics</span></a>
			</nav>
			<div class="footer">Logged in as Admin</div>
		</aside>
		<main>
			<div class="topbar">
				<div class="search"><input placeholder="Search users, projects..." /></div>
				<div class="space-between" style="gap:.6rem">
					<a href="/" class="button-outline">Logout</a>
					<button id="btnCreateUser" class="button-primary">+ Create User</button>
				</div>
			</div>
			<div class="content">
				<section class="kpis">
					<div class="kpi"><h3>Total Users</h3><div class="value" id="kpiUsers">—</div><div class="delta" id="kpiUsersDelta">+0%</div></div>
					<div class="kpi"><h3>Active Projects</h3><div class="value" id="kpiProjects">—</div><div class="delta">+0%</div></div>
					<div class="kpi"><h3>Revenue</h3><div class="value" id="kpiRevenue">₹ —</div><div class="delta">↑</div></div>
					<div class="kpi"><h3>Expenses</h3><div class="value" id="kpiExpenses">₹ —</div><div class="delta" style="color:var(--warn)">↓</div></div>
				</section>
				<section class="table-card">
					<div class="space-between"><h2>Users</h2>
						<div class="flex">
							<button class="button-outline" id="btnChangeRole" disabled>Change Role</button>
							<button class="button-outline" id="btnDeactivate" disabled>Deactivate</button>
						</div>
					</div>
					<div class="table-wrap">
						<table class="table" id="tblUsers">
							<thead>
								<tr>
									<th>Name</th><th>Role</th><th>Email</th><th>Status</th><th>Joined</th>
								</tr>
							</thead>
							<tbody></tbody>
						</table>
					</div>
					<div class="notice" style="margin-top:.6rem">Tip: Select a row to enable Change Role / Deactivate.</div>
				</section>
			</div>
		</main>
	</div>

	<button class="fab" id="btnAnalytics">System Analytics</button>

	<!-- Create User Modal -->
	<div class="modal-backdrop hidden" id="modalCreate">
		<div class="modal">
			<h3>Create User</h3>
			<div class="form-grid">
				<label>Name</label><input id="mName" />
				<label>Email</label><input id="mEmail" type="email" />
				<label>Password</label><input id="mPass" type="password" />
				<label>Role</label>
				<select id="mRole"><option>Admin</option><option>Project Manager</option><option>Team Member</option><option>Finance</option></select>
			</div>
			<div class="space-between" style="margin-top:1rem">
				<button class="button-outline" data-close>Cancel</button>
				<button class="button-primary" id="mCreateBtn">Create</button>
			</div>
		</div>
	</div>

	<!-- Analytics Modal -->
	<div class="modal-backdrop hidden" id="modalAnalytics">
		<div class="modal" style="width:min(900px,92vw)">
			<h3>System Analytics</h3>
			<div class="grid" style="grid-template-columns:1fr 1fr;gap:1rem">
				<div>
					<div class="chart-placeholder"><canvas id="chartRevenue"></canvas></div>
				</div>
				<div>
					<div class="chart-placeholder"><canvas id="chartUsers"></canvas></div>
				</div>
			</div>
			<div class="space-between" style="margin-top:1rem">
				<span class="muted">Auto-updates daily</span>
				<button class="button-outline" data-close>Close</button>
			</div>
		</div>
	</div>

	<script src="/assets/js/common.js"></script>
	<script src="/assets/js/auth-guard.js?v=1"></script>
	<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
	<script src="/admin-dashboard/admin.js?v=1"></script>
</body>
</html>